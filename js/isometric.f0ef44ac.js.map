{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_flags.js","webpack:///./node_modules/core-js/modules/_object-gopd.js","webpack:///./src/views/Isometric.vue?a39f","webpack:///./node_modules/core-js/library/modules/es6.array.is-array.js","webpack:///./node_modules/core-js/library/modules/_create-property.js","webpack:///./node_modules/stats.js/build/stats.min.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./node_modules/core-js/library/modules/es6.array.from.js","webpack:///./node_modules/core-js/library/fn/is-iterable.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/get-iterator.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/array/from.js","webpack:///./src/views/Isometric.vue?70be","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/arrayWithoutHoles.js","webpack:///./src/game/indicators.ts","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray.js","webpack:///./src/game/utils/keyboard.ts","webpack:///./src/game/bind-keyboard-listeners.ts","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js","webpack:///./src/game/factories/game-config.factory.ts","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray.js","webpack:///./src/game/utils/iso-to-index.ts","webpack:///./src/game/ui/performance-stats.ts","webpack:///./src/game/mouse/mouse-down.ts","webpack:///./src/game/mouse/mouse-move.ts","webpack:///./src/game/mouse/mouse-up.ts","webpack:///./src/game/utils/index-to-iso.ts","webpack:///./src/game/tiles/init-tile.ts","webpack:///./src/game/ui/zoom-buttons.ts","webpack:///./src/game/utils/get-tile-graphic.ts","webpack:///./src/game/isometric.ts","webpack:///./src/views/Isometric.vue?ca6f","webpack:///./src/views/Isometric.vue?e49c","webpack:///./src/views/Isometric.vue","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///./node_modules/core-js/modules/es6.string.anchor.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/define-property.js","webpack:///./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/library/modules/_is-array.js","webpack:///./node_modules/core-js/modules/_object-gopn.js","webpack:///./node_modules/core-js/library/modules/core.is-iterable.js","webpack:///./node_modules/core-js/modules/_own-keys.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/array/is-array.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/is-iterable.js","webpack:///./node_modules/core-js/library/fn/array/from.js","webpack:///./node_modules/core-js/modules/_create-property.js","webpack:///./node_modules/core-js/library/fn/array/is-array.js"],"names":["anObject","module","exports","that","this","result","global","ignoreCase","multiline","unicode","sticky","pIE","createDesc","toIObject","toPrimitive","has","IE8_DOM_DEFINE","gOPD","Object","getOwnPropertyDescriptor","f","O","P","e","call","$export","S","isArray","$defineProperty","object","index","value","a","c","appendChild","dom","u","d","children","length","style","display","l","document","createElement","cssText","addEventListener","preventDefault","k","performance","Date","now","g","r","Panel","h","self","memory","t","REVISION","addPanel","showPanel","begin","end","update","usedJSHeapSize","jsHeapSizeLimit","domElement","setMode","Infinity","Math","round","window","devicePixelRatio","v","m","n","p","q","width","height","b","getContext","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","w","min","max","drawImage","flags","RegExp","prototype","configurable","get","fails","defined","quot","createHTML","string","tag","attribute","String","p1","replace","NAME","exec","F","test","toLowerCase","split","$Object","it","key","desc","defineProperty","toObject","$keys","ctx","isArrayIter","toLength","createProperty","getIterFn","iter","Array","from","arrayLike","step","iterator","C","aLen","arguments","mapfn","undefined","mapping","iterFn","next","done","core","KEY","fn","exp","$flags","DESCRIPTORS","TO_STRING","$toString","define","source","R","concat","name","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","staticRenderFns","_arrayWithoutHoles","arr","i","arr2","IndicatorColor","_iterableToArray","toString","_nonIterableSpread","TypeError","_toConsumableArray","indicatorPreset","fontFamily","fontSize","fill","white","align","x","y","initialText","z","indicator","position","zIndex","cartesianIndicator","tileIndicator","mapVelocityIndicator","myContainerIndicator","myContainerParentIndicator","selectedIndicator","draggedIndicatorFactory","dragIndicatorFactory","orientationIndicatorFactory","upArrowIndicatorFactory","downArrowIndicatorFactory","leftArrowIndicatorFactory","rightArrowIndicatorFactory","keyboard","holdDownHandler","press","release","holdDown","isDown","isUp","downHandler","event","setInterval","upHandler","clearInterval","downListener","bind","upListener","unsubscribe","removeEventListener","upArrowIndicator","downArrowIndicator","rightArrowIndicator","leftArrowIndicator","emitVelocityChange","green","dvely","hardSetY","dvelx","hardSetX","_defineProperty","obj","enumerable","writable","gameConfigFactory","canvasWidth","canvasHeight","reRenderCallback","options","mapRadius","tileWidth","tileGap","scale","ai","rotation","increaseScale","console","warn","decreaseScale","offsetX","offsetY","_arrayWithHoles","_iterableToArrayLimit","_arr","_n","_d","_e","_s","_i","push","err","_nonIterableRest","_slicedToArray","PerformanceStat","isoToIndex","s","j","floor","myContainer","config","data","getLocalPosition","dragIndicatorText","dragging","draggedx","draggedy","delx","dely","velx","vely","tileClicked","isCoordsUpdate","cartesianIndicatorText","tileIndicatorText","isPositionalUpdate","newPosition","parentPosition","parent","tileDragged","newContainerPositionX","newContainerPositionY","draggedIndicatorText","toFixed","containerIndicatorText","containerParentIndicatorText","mouseUpInteraction","callback","dragBreakpointCondition","abs","dragged","indexToIso","gr","c1","c2","c3","c4","hitArea","performanceStatsFactory","Stats","stats","left","right","top","body","zoomOutTexture","texture","zoomInTexture","zoomInButtonSprite","zoomOutButtonSprite","buttonMode","interactive","anchor","set","on","getTileGraphic","layer","getChildAt","assetCollection","stage","renderer","view","autoResize","requestAnimationFrame","animate","layers","oldSelected","zoomButtons","orientationIndicator","dragIndicator","draggedIndicator","keyboardListeners","tearDownScene","initScene","count2","sortableChildren","addChild","buildIndicators","buildZoomButtons","container","sprite","forEach","setTile","create","selected","text","bindMouseEvents","bindKeyboardEvents","destroy","baseTexture","removeAllListeners","item","setGraphicTileColor","tileGraphic","color","clear","beginFill","moveTo","lineTo","endFill","message","unSelectTile","error","selectTile","mouseDownHandler","handledEvent","mouseUpHandler","mouseMoveHandler","addListener","winmode","borderL","borderR","borderD","borderU","innerHeight","innerWidth","resize","newWidth","newHeight","removeChild","extend","mounted","shared","reset","loadedAssets","$refs","renderCanvas","offsetWidth","offsetHeight","game","backgroundColor","onresize","component","getIterator","ownKeys","getOwnPropertyDescriptors","getDesc","keys","cof","arg","hiddenKeys","getOwnPropertyNames","classof","ITERATOR","Iterators","isIterable","hasOwnProperty","gOPN","gOPS","Reflect","getSymbols","$iterators","getKeys","redefine","hide","wks","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","Collection","proto"],"mappings":"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","file":"js/isometric.f0ef44ac.js","sourcesContent":["'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Isometric.vue?vue&type=style&index=0&id=4e5c77b0&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Isometric.vue?vue&type=style&index=0&id=4e5c77b0&scoped=true&lang=scss&\"","// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', { isArray: require('./_is-array') });\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// stats.js - http://github.com/mrdoob/stats.js\n(function(f,e){\"object\"===typeof exports&&\"undefined\"!==typeof module?module.exports=e():\"function\"===typeof define&&define.amd?define(e):f.Stats=e()})(this,function(){var f=function(){function e(a){c.appendChild(a.dom);return a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?\"block\":\"none\";l=a}var l=0,c=document.createElement(\"div\");c.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\";c.addEventListener(\"click\",function(a){a.preventDefault();\nu(++l%c.children.length)},!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel(\"FPS\",\"#0ff\",\"#002\")),h=e(new f.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var t=e(new f.Panel(\"MB\",\"#f08\",\"#201\"));u(0);return{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();h.update(c-k,200);if(c>g+1E3&&(r.update(1E3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/\n1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}};f.Panel=function(e,f,l){var c=Infinity,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement(\"canvas\");q.width=r;q.height=h;q.style.cssText=\"width:80px;height:48px\";var b=q.getContext(\"2d\");b.font=\"bold \"+9*a+\"px Helvetica,Arial,sans-serif\";b.textBaseline=\"top\";b.fillStyle=l;b.fillRect(0,0,r,h);b.fillStyle=f;b.fillText(e,t,v);\nb.fillRect(d,m,n,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d,m,n,p);return{dom:q,update:function(h,w){c=Math.min(c,h);k=Math.max(k,h);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,r,m);b.fillStyle=f;b.fillText(g(h)+\" \"+e+\" (\"+g(c)+\"-\"+g(k)+\")\",t,v);b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p);b.fillRect(d+n-a,m,a,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}};return f});\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n","module.exports = require(\"core-js/library/fn/get-iterator\");","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","module.exports = require(\"core-js/library/fn/array/from\");","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"game__container\"},[_c('div',{staticClass:\"game__nav\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Back\")])],1),_c('canvas',{ref:\"renderCanvas\",staticClass:\"game__canvas\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _Array$isArray from \"../../core-js/array/is-array\";\nexport default function _arrayWithoutHoles(arr) {\n  if (_Array$isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","import * as PIXI from 'pixi.js';\nimport { IndicatorPreset } from './models/indicator-preset';\n\nexport enum IndicatorColor {\n  white = 0xffffff,\n  green = 0x00ff00,\n}\n\nconst indicatorPreset: IndicatorPreset = {\n  fontFamily: 'Courier',\n  fontSize: 14,\n  fill: IndicatorColor.white,\n  align: 'center',\n};\n\nconst indicatorFactory = (\n  x: number,\n  y: number,\n  initialText: string = '',\n  z: 1 | 2 | 3 = 2,\n): PIXI.Text => {\n  const indicator = new PIXI.Text(initialText, indicatorPreset);\n  indicator.position.x = x;\n  indicator.position.y = y;\n  indicator.zIndex = z;\n  return indicator;\n};\n\n// top left indicators\nexport const cartesianIndicator = indicatorFactory(10, 10);\nexport const tileIndicator = indicatorFactory(10, 30);\nexport const mapVelocityIndicator = indicatorFactory(10, 50, 'Velocity: ');\nexport const myContainerIndicator = indicatorFactory(10, 70);\nexport const myContainerParentIndicator = indicatorFactory(10, 90);\nexport const selectedIndicator = indicatorFactory(10, 120, 'Selected: ');\nexport const oldSelectedIndicator = indicatorFactory(\n  10,\n  150,\n  'Prev. Selected: ',\n);\n\n// bottom left indicators\nexport const draggedIndicatorFactory = (height: number) =>\n  indicatorFactory(10, height - 65);\n\nexport const dragIndicatorFactory = (height: number) =>\n  indicatorFactory(10, height - 45);\n\nexport const orientationIndicatorFactory = (height: number) =>\n  indicatorFactory(10, height - 25);\n\n// bottom right indicators\nexport const upArrowIndicatorFactory = (height: number, width: number) =>\n  indicatorFactory(width - 100, height - 65, ' UP');\n\nexport const downArrowIndicatorFactory = (height: number, width: number) =>\n  indicatorFactory(width - 100, height - 25, 'DOWN');\n\nexport const leftArrowIndicatorFactory = (height: number, width: number) =>\n  indicatorFactory(width - 145, height - 45, 'LEFT');\n\nexport const rightArrowIndicatorFactory = (height: number, width: number) =>\n  indicatorFactory(width - 55, height - 45, 'RIGHT');\n","import _Array$from from \"../../core-js/array/from\";\nimport _isIterable from \"../../core-js/is-iterable\";\nexport default function _iterableToArray(iter) {\n  if (_isIterable(Object(iter)) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return _Array$from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export interface KeyboardItem {\n  value: string;\n  isDown: boolean;\n  isUp: boolean;\n  unsubscribe: () => void;\n  press?: () => void;\n  holdDown?: () => void;\n  release?: () => void;\n  downHandler?: (event: any) => void;\n  upHandler?: (event: any) => void;\n}\n\nexport const keyboard = ({\n  value,\n  press,\n  release,\n  holdDown,\n}: {\n  /**\n   * This function will be called upon pressing the key.\n   */\n  value: string;\n  /**\n   * This function will be called upon pressing the key.\n   */\n  press: () => void;\n  /**\n   * This function will be called upon releasing the key. Will cancel any `holdDown` logic.\n   */\n  release: () => void;\n  /**\n   * This function will be called every `17`ms until the `release` function is called.\n   */\n  holdDown?: () => void;\n}): KeyboardItem => {\n  const key: Partial<KeyboardItem> = {\n    value,\n    isDown: false,\n    isUp: true,\n    press,\n    release,\n    holdDown,\n  };\n\n  let holdDownHandler: number;\n\n  key.downHandler = event => {\n    if (event.key === key.value) {\n      if (key.isUp && key.press) {\n        key.press();\n\n        if (key.holdDown) {\n          holdDownHandler = setInterval(\n            () => (key.holdDown ? (key.holdDown() as any) : undefined),\n            17,\n          );\n        }\n      }\n      key.isDown = true;\n      key.isUp = false;\n      event.preventDefault();\n    }\n  };\n\n  key.upHandler = event => {\n    if (event.key === key.value) {\n      if (key.isDown && key.release) {\n        key.release();\n\n        if (key.holdDown) {\n          clearInterval(holdDownHandler);\n        }\n      }\n      key.isDown = false;\n      key.isUp = true;\n      event.preventDefault();\n    }\n  };\n\n  // Attach event listeners\n  const downListener = key.downHandler.bind(key);\n  const upListener = key.upHandler.bind(key);\n\n  window.addEventListener('keydown', downListener, false);\n  window.addEventListener('keyup', upListener, false);\n\n  // Detach event listeners\n  key.unsubscribe = () => {\n    window.removeEventListener('keydown', downListener);\n    window.removeEventListener('keyup', upListener);\n  };\n\n  return key as KeyboardItem;\n};\n","import * as PIXI from 'pixi.js';\nimport { IndicatorColor } from './indicators';\nimport { keyboard } from './utils/keyboard';\n\nexport const bindKeyboardListeners = (\n  upArrowIndicator: PIXI.Text,\n  downArrowIndicator: PIXI.Text,\n  rightArrowIndicator: PIXI.Text,\n  leftArrowIndicator: PIXI.Text,\n  emitVelocityChange: (delta: {\n    dvelx?: number;\n    dvely?: number;\n    hardSetX?: number;\n    hardSetY?: number;\n  }) => void,\n) => [\n  keyboard({\n    value: 'ArrowUp',\n    press: () => {\n      upArrowIndicator.style.fill = IndicatorColor.green;\n      emitVelocityChange({ dvely: 5 });\n    },\n    release: () => {\n      upArrowIndicator.style.fill = IndicatorColor.white;\n      emitVelocityChange({ hardSetY: 0 });\n    },\n    holdDown: () => emitVelocityChange({ dvely: 2 }),\n  }),\n\n  keyboard({\n    value: 'ArrowDown',\n    press: () => {\n      downArrowIndicator.style.fill = IndicatorColor.green;\n      emitVelocityChange({ dvely: -5 });\n    },\n    release: () => {\n      downArrowIndicator.style.fill = IndicatorColor.white;\n      emitVelocityChange({ hardSetY: 0 });\n    },\n    holdDown: () => emitVelocityChange({ dvely: -2 }),\n  }),\n\n  keyboard({\n    value: 'ArrowRight',\n    press: () => {\n      rightArrowIndicator.style.fill = IndicatorColor.green;\n      emitVelocityChange({ dvelx: -5 });\n    },\n    release: () => {\n      rightArrowIndicator.style.fill = IndicatorColor.white;\n      emitVelocityChange({ hardSetX: 0 });\n    },\n    holdDown: () => emitVelocityChange({ dvelx: -2 }),\n  }),\n\n  keyboard({\n    value: 'ArrowLeft',\n    press: () => {\n      leftArrowIndicator.style.fill = IndicatorColor.green;\n      emitVelocityChange({ dvelx: 5 });\n    },\n    release: () => {\n      leftArrowIndicator.style.fill = IndicatorColor.white;\n      emitVelocityChange({ hardSetX: 0 });\n    },\n    holdDown: () => emitVelocityChange({ dvelx: 2 }),\n  }),\n];\n","import _Object$defineProperty from \"../../core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import { GameConfig } from '../models/game-config';\n\nexport const gameConfigFactory = (\n  canvasWidth: number,\n  canvasHeight: number,\n  /**\n   * logic to be run when the scene is forcably re-rendered (zooming for example)\n   */\n  reRenderCallback: () => void,\n\n  options: {\n    mapRadius: number;\n    tileWidth: number;\n    tileGap: number;\n  } = { mapRadius: 10, tileWidth: 16, tileGap: 0.02 },\n): GameConfig => ({\n  canvasHeight,\n  canvasWidth,\n  scale: 1,\n  ai: 2,\n  rotation: 1,\n  ...options,\n\n  increaseScale() {\n    if (this.scale === 3) {\n      console.warn(`Cannot zoom out more; scale = ${this.scale}`);\n      return;\n    }\n\n    this.scale === 0.5 ? (this.scale = 1) : this.scale++;\n    reRenderCallback();\n  },\n\n  decreaseScale() {\n    if (this.scale === 0.5) {\n      console.warn(`Cannot zoom in more; scale = ${this.scale}`);\n      return;\n    }\n\n    this.scale === 1 ? (this.scale = 0.5) : this.scale--;\n    reRenderCallback();\n  },\n\n  get offsetX() {\n    return (this.mapRadius * 2 + 1) * this.tileWidth * this.scale;\n  },\n\n  get offsetY() {\n    return (\n      (((this.mapRadius * 2 + 1) * this.tileWidth - this.tileWidth) *\n        this.scale) /\n      this.ai\n    );\n  },\n\n  get borderL() {\n    return -this.offsetX * 2 + this.canvasWidth;\n  },\n\n  get borderR() {\n    return 0;\n  },\n\n  get borderD() {\n    return (\n      -(this.offsetY + (this.tileWidth * this.scale) / this.ai) * 2 +\n      this.canvasHeight\n    );\n  },\n\n  get borderU() {\n    return 0;\n  },\n});\n","import _Array$isArray from \"../../core-js/array/is-array\";\nexport default function _arrayWithHoles(arr) {\n  if (_Array$isArray(arr)) return arr;\n}","import _getIterator from \"../../core-js/get-iterator\";\nimport _isIterable from \"../../core-js/is-iterable\";\nexport default function _iterableToArrayLimit(arr, i) {\n  if (!(_isIterable(Object(arr)) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = _getIterator(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","import { GameConfig } from '../models/game-config';\n\nexport const isoToIndex = (\n  x: number,\n  y: number,\n  { ai, offsetX, offsetY, rotation, scale, tileWidth }: GameConfig,\n): [number, number] => {\n  const b = scale * tileWidth;\n\n  const s = x - offsetX;\n  const t = y - offsetY;\n\n  let j = (((t - (s * rotation) / ai) / (1 + rotation * rotation)) * ai) / b;\n  let i = (s + j * b * rotation) / b;\n\n  i = Math.floor(i);\n  j = Math.floor(j);\n  return [i, j];\n};\n","/**\n * Calling this factory will append a widget to the top right of the dom.\n */\n\nexport enum PerformanceStat {\n  FPS,\n  Latency,\n  Memory,\n}\n\nexport const performanceStatsFactory = () => {\n  const Stats = require('stats.js');\n  const stats = new Stats();\n  stats.showPanel(2); // 0: fps, 1: ms, 2: mb, 3+: custom\n  stats.domElement.style.position = 'absolute';\n  stats.domElement.style.left = 'unset';\n  stats.domElement.style.right = '8px';\n  stats.domElement.style.top = '8px';\n  document.body.appendChild(stats.dom);\n\n  return stats as {\n    /**\n     * change the displayed performance statistic panel\n     */\n    showPanel: (stat: PerformanceStat) => void;\n\n    /**\n     * begin tracking performance\n     */\n    begin: () => void;\n\n    /**\n     * end performance tracking\n     */\n    end: () => void;\n  };\n};\n","import * as PIXI from 'pixi.js';\nimport { GameConfig } from '../models/game-config';\nimport { IsometricStack } from '../models/isometric-stack';\nimport { isoToIndex } from '../utils/iso-to-index';\n\nexport const mouseDownInteraction = (\n  { data }: PIXI.interaction.InteractionEvent,\n  myContainer: IsometricStack,\n  config: GameConfig,\n) => {\n  const { x, y } = data.getLocalPosition(myContainer);\n  const [i, j] = isoToIndex(x, y, config);\n\n  return {\n    dragIndicatorText: 'yay',\n    dragging: true,\n    draggedx: 0,\n    draggedy: 0,\n    delx: 0,\n    dely: 0,\n    velx: 0,\n    vely: 0,\n    tileClicked: {\n      i,\n      j,\n      x: x * myContainer.scale.x,\n      y: y * myContainer.scale.y,\n      z: 0,\n    },\n  };\n};\n","import * as PIXI from 'pixi.js';\nimport { GameConfig } from '../models/game-config';\nimport { IsometricStack } from '../models/isometric-stack';\nimport { Tile } from '../models/tile';\nimport { isoToIndex } from '../utils/iso-to-index';\n\nexport interface CoordsUpdate {\n  cartesianIndicatorText: string;\n  tileIndicatorText: string;\n}\n\nexport interface PositionalUpdate {\n  delx: number;\n  dely: number;\n  draggedx: number;\n  draggedy: number;\n  newContainerPositionX: number;\n  newContainerPositionY: number;\n  draggedIndicatorText: string;\n  containerIndicatorText: string;\n  containerParentIndicatorText: string;\n}\n\nexport const isCoordsUpdate = (\n  update: CoordsUpdate | PositionalUpdate,\n): update is CoordsUpdate =>\n  (update as CoordsUpdate).cartesianIndicatorText !== undefined &&\n  (update as CoordsUpdate).tileIndicatorText !== undefined;\n\nexport const isPositionalUpdate = (\n  update: CoordsUpdate | PositionalUpdate,\n): update is PositionalUpdate =>\n  (update as PositionalUpdate).delx !== undefined &&\n  (update as PositionalUpdate).dely !== undefined;\n\nexport const mouseMoveInteraction = (\n  { data }: PIXI.interaction.InteractionEvent,\n  myContainer: IsometricStack,\n  config: GameConfig,\n  dragging: boolean,\n  draggedx: number,\n  draggedy: number,\n  tileClicked?: Tile,\n): CoordsUpdate | PositionalUpdate => {\n  const newPosition = data.getLocalPosition(myContainer);\n  const parentPosition = data.getLocalPosition(myContainer.parent);\n\n  if (!dragging) {\n    return {\n      cartesianIndicatorText: `${newPosition.x.toFixed(\n        2,\n      )}, ${newPosition.y.toFixed(2)}`,\n\n      tileIndicatorText: isoToIndex(\n        newPosition.x,\n        newPosition.y,\n        config,\n      ).toString(),\n    };\n  } else {\n    const tileDragged = tileClicked || {\n      x: 0,\n      y: 0,\n    };\n\n    return {\n      delx: myContainer.position.x,\n      dely: myContainer.position.y,\n      draggedx: draggedx + myContainer.position.x / 1000,\n      draggedy: draggedy + myContainer.position.y / 1000,\n      newContainerPositionX: parentPosition.x - tileDragged.x,\n      newContainerPositionY: parentPosition.y - tileDragged.y,\n\n      draggedIndicatorText: `dragged: { x: ${draggedx.toFixed(\n        2,\n      )}, y: ${draggedy.toFixed(2)}}`,\n\n      containerIndicatorText: `myContainer = { x: ${(\n        newPosition.x - tileDragged.x\n      ).toFixed(2)}, y: ${(newPosition.y - tileDragged.y).toFixed(2)}}`,\n\n      containerParentIndicatorText: `myContainer.parent = { x: ${data\n        .getLocalPosition(myContainer.parent)\n        .x.toFixed(2)}, y: ${data\n        .getLocalPosition(myContainer.parent)\n        .y.toFixed(2)} }`,\n    };\n  }\n};\n","import { IsometricStack } from '../models/isometric-stack';\n\nexport const mouseUpInteraction = (\n  draggedx: number,\n  draggedy: number,\n  callback: () => void,\n  myContainer: IsometricStack,\n  delx: number,\n  dely: number,\n) => {\n  // if true, this will trigger a click rather than a drag\n  const dragBreakpointCondition =\n    Math.abs(draggedx) > 1 || Math.abs(draggedy) > 1;\n\n  if (!dragBreakpointCondition) {\n    callback();\n  }\n\n  return {\n    dragIndicatorText: 'not dragging',\n    draggedIndicatorText: '',\n    dragged: dragBreakpointCondition\n      ? {\n          velx: Math.floor(myContainer.position.x - delx),\n          vely: Math.floor(myContainer.position.y - dely),\n          delx: 0,\n          dely: 0,\n        }\n      : undefined,\n  };\n};\n","import { GameConfig } from '../models/game-config';\n\nexport const indexToIso = (\n  i: number,\n  j: number,\n  { ai, offsetX, offsetY, rotation, scale, tileWidth }: GameConfig,\n): [number, number] => {\n  const x = offsetX + (i - j * rotation) * scale * tileWidth;\n  const y = offsetY + ((j + i * rotation) * scale * tileWidth) / ai;\n  return [x, y];\n};\n","import * as PIXI from 'pixi.js';\nimport { GameConfig } from '../models/game-config';\nimport { IsometricGraphic } from '../models/isometric-graphic';\nimport { indexToIso } from '../utils/index-to-iso';\n\nexport const initTile = (i: number, j: number, config: GameConfig) => {\n  const gr = new PIXI.Graphics() as IsometricGraphic;\n\n  gr.c1 = indexToIso(i + 1 - config.tileGap, j + config.tileGap, config);\n  gr.c2 = indexToIso(i + 1 - config.tileGap, j + 1 - config.tileGap, config);\n  gr.c3 = indexToIso(i + config.tileGap, j + 1 - config.tileGap, config);\n  gr.c4 = indexToIso(i + config.tileGap, j + config.tileGap, config);\n\n  gr.hitArea = new PIXI.Polygon([\n    new PIXI.Point(gr.c1[0], gr.c1[1]),\n    new PIXI.Point(gr.c2[0], gr.c2[1]),\n    new PIXI.Point(gr.c3[0], gr.c3[1]),\n    new PIXI.Point(gr.c4[0], gr.c4[1]),\n  ]);\n\n  return gr;\n};\n","import * as PIXI from 'pixi.js';\nimport { AssetCollection } from '../models/assets';\nimport { GameConfig } from '../models/game-config';\n\nexport const zoomButtonsFactory = (\n  {\n    'zoom-out': { texture: zoomOutTexture },\n    'zoom-in': { texture: zoomInTexture },\n  }: Pick<AssetCollection, 'zoom-in' | 'zoom-out'>,\n  canvasWidth: number,\n  canvasHeight: number,\n  config: GameConfig,\n): [PIXI.Sprite, PIXI.Sprite] => {\n  const zoomInButtonSprite = new PIXI.Sprite(zoomInTexture);\n  const zoomOutButtonSprite = new PIXI.Sprite(zoomOutTexture);\n\n  zoomInButtonSprite.buttonMode = true;\n  zoomOutButtonSprite.buttonMode = true;\n  zoomInButtonSprite.interactive = true;\n  zoomOutButtonSprite.interactive = true;\n\n  zoomInButtonSprite.anchor.set(0.5);\n  zoomOutButtonSprite.anchor.set(0.5);\n\n  zoomInButtonSprite.width = 45;\n  zoomInButtonSprite.height = 45;\n  zoomInButtonSprite.position.x = canvasWidth - 275;\n  zoomInButtonSprite.position.y = canvasHeight - 40;\n  zoomInButtonSprite.zIndex = 2;\n\n  zoomOutButtonSprite.width = 45;\n  zoomOutButtonSprite.height = 45;\n  zoomOutButtonSprite.position.x = canvasWidth - 200;\n  zoomOutButtonSprite.position.y = canvasHeight - 40;\n  zoomOutButtonSprite.zIndex = 2;\n\n  zoomInButtonSprite.on('pointerdown', () => config.increaseScale());\n\n  zoomOutButtonSprite.on('pointerdown', () => config.decreaseScale());\n\n  return [zoomInButtonSprite, zoomOutButtonSprite];\n};\n","import * as PIXI from 'pixi.js';\nimport { GameConfig } from '../models/game-config';\nimport { IsometricGraphic } from '../models/isometric-graphic';\n\n/**\n * Given a tile index, the layer and the mapRadius,\n * return the child **IsometricGraphic** representing the tile\n * @param i the **i** coordinate of the tile\n * @param j the **j** coordinate of the tile\n * @param layer the current layer a (**PIXI.Container**)\n * @param mapRadius the radius of the map\n */\nexport const getTileGraphic = (\n  i: number,\n  j: number,\n  layer: PIXI.Container,\n  { mapRadius }: GameConfig,\n) => {\n  const index = (i + mapRadius) * (2 * mapRadius + 1) + j + mapRadius;\n  return layer.getChildAt(index) as IsometricGraphic;\n};\n","import * as PIXI from 'pixi.js';\nimport { bindKeyboardListeners } from './bind-keyboard-listeners';\nimport { gameConfigFactory } from './factories/game-config.factory';\nimport {\n  cartesianIndicator,\n  downArrowIndicatorFactory,\n  draggedIndicatorFactory,\n  dragIndicatorFactory,\n  leftArrowIndicatorFactory,\n  mapVelocityIndicator,\n  myContainerIndicator,\n  myContainerParentIndicator,\n  orientationIndicatorFactory,\n  rightArrowIndicatorFactory,\n  selectedIndicator,\n  tileIndicator,\n  upArrowIndicatorFactory,\n} from './indicators';\nimport { AssetCollection } from './models/assets';\nimport { IsometricGraphic } from './models/isometric-graphic';\nimport { IsometricLayer } from './models/isometric-layer';\nimport { IsometricStack } from './models/isometric-stack';\nimport { Tile } from './models/tile';\nimport { mouseDownInteraction } from './mouse/mouse-down';\nimport {\n  isCoordsUpdate,\n  isPositionalUpdate,\n  mouseMoveInteraction,\n} from './mouse/mouse-move';\nimport { mouseUpInteraction } from './mouse/mouse-up';\nimport { initTile } from './tiles/init-tile';\nimport { performanceStatsFactory } from './ui/performance-stats';\nimport { zoomButtonsFactory } from './ui/zoom-buttons';\nimport { getTileGraphic } from './utils/get-tile-graphic';\nimport { indexToIso } from './utils/index-to-iso';\nimport { KeyboardItem } from './utils/keyboard';\n\nexport const isoMetricGame = (\n  { stage, renderer, view: { width, height } }: PIXI.Application,\n  assetCollection: Partial<AssetCollection>,\n) => {\n  renderer.autoResize = true;\n  requestAnimationFrame(animate);\n\n  const config = gameConfigFactory(width, height, () => {\n    tearDownScene();\n    initScene();\n  });\n\n  const stats = performanceStatsFactory();\n\n  let velx = 0;\n  let vely = 0;\n\n  let delx = 0;\n  let dely = 0;\n\n  let draggedx = 0;\n  let draggedy = 0;\n\n  let dragging = false;\n\n  let count2 = 0;\n\n  let layers: IsometricLayer[];\n\n  let myContainer: IsometricStack;\n  let oldSelected: Tile;\n  let tileClicked: Tile;\n\n  let zoomButtons: [PIXI.Sprite, PIXI.Sprite];\n  let orientationIndicator: PIXI.Text;\n  let dragIndicator: PIXI.Text;\n  let draggedIndicator: PIXI.Text;\n  let upArrowIndicator: PIXI.Text;\n  let downArrowIndicator: PIXI.Text;\n  let leftArrowIndicator: PIXI.Text;\n  let rightArrowIndicator: PIXI.Text;\n\n  let keyboardListeners: KeyboardItem[];\n\n  stage.sortableChildren = true;\n\n  stage.addChild(\n    // top left indicators\n    cartesianIndicator,\n    tileIndicator,\n    myContainerIndicator,\n    myContainerParentIndicator,\n    mapVelocityIndicator,\n    selectedIndicator,\n  );\n\n  const buildIndicators = (canvasHeight: number, canvasWidth: number) => {\n    orientationIndicator = orientationIndicatorFactory(canvasHeight);\n    dragIndicator = dragIndicatorFactory(canvasHeight);\n    draggedIndicator = draggedIndicatorFactory(canvasHeight);\n    upArrowIndicator = upArrowIndicatorFactory(canvasHeight, canvasWidth);\n    downArrowIndicator = downArrowIndicatorFactory(canvasHeight, canvasWidth);\n    leftArrowIndicator = leftArrowIndicatorFactory(canvasHeight, canvasWidth);\n    rightArrowIndicator = rightArrowIndicatorFactory(canvasHeight, canvasWidth);\n\n    stage.addChild(\n      // bottom left indicators\n      draggedIndicator,\n      dragIndicator,\n      orientationIndicator,\n\n      // bottom right indicators\n      upArrowIndicator,\n      downArrowIndicator,\n      leftArrowIndicator,\n      rightArrowIndicator,\n    );\n  };\n\n  const buildZoomButtons = (canvasHeight: number, canvasWidth: number) => {\n    if (assetCollection['zoom-in'] && assetCollection['zoom-out']) {\n      zoomButtons = zoomButtonsFactory(\n        {\n          'zoom-in': assetCollection['zoom-in'],\n          'zoom-out': assetCollection['zoom-out'],\n        },\n        canvasWidth,\n        canvasHeight,\n        config,\n      );\n      stage.addChild(...zoomButtons);\n    }\n  };\n\n  buildIndicators(height, width);\n  buildZoomButtons(height, width);\n\n  const initScene = () => {\n    layers = [\n      {\n        container: new PIXI.Container(),\n        texture: undefined as any,\n        sprite: undefined as any,\n      },\n      // {\n      //   container: new PIXI.Container(),\n      //   texture: undefined as any,\n      //   sprite: undefined as any,\n      // },\n      // {\n      //   container: new PIXI.Container(),\n      //   texture: undefined as any,\n      //   sprite: undefined as any,\n      // },\n    ];\n\n    layers.forEach(({ container }, index) => {\n      for (let i = -config.mapRadius; i <= config.mapRadius; i++) {\n        for (let j = -config.mapRadius; j <= config.mapRadius; j++) {\n          container.addChild(initTile(i, j, config));\n\n          switch (index) {\n            case 0:\n              setTile(i, j, container);\n              break;\n            case 1:\n              setTile(i, j, container, '0xFFFFFF');\n              break;\n            case 2:\n              setTile(i, j, container, '0x000000');\n              break;\n\n            default:\n              setTile(i, j, container, '0xFFFFFF');\n          }\n        }\n      }\n    });\n\n    layers.forEach(\n      layer =>\n        // render the tilemap to a render texture\n        (layer.texture = PIXI.RenderTexture.create({\n          width: config.offsetX * 2,\n          height:\n            (config.offsetY + (config.tileWidth * config.scale) / config.ai) *\n            2,\n        })),\n    );\n\n    layers.forEach(({ container, texture }) =>\n      renderer.render(container, texture),\n    );\n\n    layers.forEach((layer, index) => {\n      if (index === 0) {\n        if (myContainer && myContainer.selected) {\n          oldSelected = myContainer.selected;\n        }\n\n        // create a single background sprite with the texture\n        myContainer = new PIXI.Sprite(layers[0].texture) as IsometricStack;\n        myContainer.selected = oldSelected || undefined;\n\n        if (myContainer.selected) {\n          selectedIndicator.text = `Selected: i: ${myContainer.selected.i}, j: ${myContainer.selected.j}`;\n        }\n        layer.sprite = myContainer;\n        stage.addChild(myContainer);\n        return;\n      }\n\n      // TODO: remove above\n      layer.sprite = new PIXI.Sprite(layer.texture);\n      layer.sprite.y -= index * config.tileWidth; // vertical separation of tile layers\n      myContainer.addChild(layer.sprite);\n    });\n\n    myContainer.interactive = true;\n\n    bindMouseEvents();\n    bindKeyboardEvents();\n  };\n\n  const tearDownScene = () => {\n    myContainer.destroy({ children: true, texture: true, baseTexture: true });\n    myContainer.removeAllListeners();\n    keyboardListeners.forEach(item => item.unsubscribe());\n  };\n\n  const setGraphicTileColor = (\n    tileGraphic: IsometricGraphic,\n    color: string,\n  ) => {\n    tileGraphic.clear();\n\n    tileGraphic.color = color;\n    tileGraphic.beginFill(tileGraphic.color as any);\n\n    tileGraphic.moveTo(tileGraphic.c1[0], tileGraphic.c1[1]);\n    tileGraphic.lineTo(tileGraphic.c2[0], tileGraphic.c2[1]);\n    tileGraphic.lineTo(tileGraphic.c3[0], tileGraphic.c3[1]);\n    tileGraphic.lineTo(tileGraphic.c4[0], tileGraphic.c4[1]);\n\n    tileGraphic.endFill();\n  };\n\n  const setTile = (\n    i: number,\n    j: number,\n    layer: PIXI.Container,\n    color = '0x009900',\n  ) => {\n    let tileGraphic: IsometricGraphic;\n    const { tileGap } = config;\n\n    try {\n      tileGraphic = getTileGraphic(i, j, layer, config);\n      tileGraphic.c1 = indexToIso(i + 1 - tileGap, j + tileGap, config);\n      tileGraphic.c2 = indexToIso(i + 1 - tileGap, j + 1 - tileGap, config);\n      tileGraphic.c3 = indexToIso(i + tileGap, j + 1 - tileGap, config);\n      tileGraphic.c4 = indexToIso(i + tileGap, j + tileGap, config);\n\n      setGraphicTileColor(tileGraphic, color);\n      if (myContainer && myContainer.selected) {\n        if (myContainer.selected.i === i && myContainer.selected.j === j) {\n          setGraphicTileColor(tileGraphic, '0xFF0000');\n        }\n      }\n    } catch (e) {\n      console.warn(e.message);\n    }\n  };\n\n  const unSelectTile = ({ i, j }: Tile, layer: PIXI.Container) => {\n    let tileGraphic: IsometricGraphic;\n\n    try {\n      tileGraphic = getTileGraphic(i, j, layer, config);\n      setGraphicTileColor(tileGraphic, '0x009900');\n      layers.forEach(({ container, texture }) =>\n        renderer.render(container, texture),\n      );\n    } catch (error) {\n      console.warn(error.message);\n    }\n  };\n\n  const selectTile = ({ i, j }: Tile, layer: PIXI.Container) => {\n    let tileGraphic: IsometricGraphic;\n    myContainer.selected = tileClicked;\n\n    try {\n      tileGraphic = getTileGraphic(i, j, layer, config);\n      setGraphicTileColor(tileGraphic, '0xFF0000');\n      layers.forEach(({ container, texture }) =>\n        renderer.render(container, texture),\n      );\n    } catch (error) {\n      console.warn(error.message);\n    }\n  };\n\n  const bindMouseEvents = () => {\n    const mouseDownHandler = (event: PIXI.interaction.InteractionEvent) => {\n      const handledEvent = mouseDownInteraction(event, myContainer, config);\n\n      ({ dragging, draggedx, draggedy, delx, dely, velx, vely } = handledEvent);\n      draggedIndicator.text = handledEvent.dragIndicatorText;\n\n      tileClicked = handledEvent.tileClicked;\n    };\n\n    const mouseUpHandler = () => {\n      const handledEvent = mouseUpInteraction(\n        draggedx,\n        draggedy,\n        () => {\n          if (myContainer.selected) {\n            // TODO: layer context\n            unSelectTile(myContainer.selected, layers[0].container);\n          }\n          // TODO: layer context\n          selectTile(tileClicked, layers[0].container);\n          selectedIndicator.text = `Selected: i: ${\n            (myContainer.selected as Tile).i\n          }, j: ${(myContainer.selected as Tile).j}`;\n        },\n        myContainer,\n        delx,\n        dely,\n      );\n      dragIndicator.text = handledEvent.dragIndicatorText;\n      draggedIndicator.text = handledEvent.draggedIndicatorText;\n      dragging = false;\n\n      if (handledEvent.dragged) {\n        ({ velx, vely, delx, dely } = handledEvent.dragged);\n      }\n    };\n\n    const mouseMoveHandler = (event: PIXI.interaction.InteractionEvent) => {\n      const handledEvent = mouseMoveInteraction(\n        event,\n        myContainer,\n        config,\n        dragging,\n        draggedx,\n        draggedy,\n        tileClicked,\n      );\n\n      if (isPositionalUpdate(handledEvent)) {\n        ({ delx, dely, draggedx, draggedy } = handledEvent);\n        myContainer.position.x = handledEvent.newContainerPositionX;\n        myContainer.position.y = handledEvent.newContainerPositionY;\n        draggedIndicator.text = handledEvent.draggedIndicatorText;\n        myContainerIndicator.text = handledEvent.containerIndicatorText;\n        myContainerParentIndicator.text =\n          handledEvent.containerParentIndicatorText;\n      } else if (isCoordsUpdate(handledEvent)) {\n        cartesianIndicator.text = handledEvent.cartesianIndicatorText;\n        tileIndicator.text = handledEvent.tileIndicatorText;\n      }\n    };\n\n    myContainer.addListener('mousedown', event => mouseDownHandler(event));\n    myContainer.addListener('touchstart', event => mouseDownHandler(event));\n\n    myContainer.addListener('mouseup', mouseUpHandler);\n    myContainer.addListener('touchend', mouseUpHandler);\n\n    myContainer.addListener('mousemove', event => mouseMoveHandler(event));\n    myContainer.addListener('touchmove', event => mouseMoveHandler(event));\n  };\n\n  const bindKeyboardEvents = () => {\n    keyboardListeners = bindKeyboardListeners(\n      upArrowIndicator,\n      downArrowIndicator,\n      rightArrowIndicator,\n      leftArrowIndicator,\n      ({ dvelx, dvely, hardSetX, hardSetY }) => {\n        if (hardSetX !== undefined) {\n          velx = hardSetX;\n        }\n\n        if (dvelx) {\n          velx += dvelx;\n        }\n\n        if (hardSetY !== undefined) {\n          vely = hardSetY;\n        }\n\n        if (dvely) {\n          vely += dvely;\n        }\n      },\n    );\n  };\n\n  initScene();\n\n  let winmode = '';\n  setInterval(() => {\n    if (window.innerHeight > window.innerWidth) {\n      winmode = 'portrait';\n    } else {\n      winmode = 'landscape';\n    }\n    orientationIndicator.text = winmode;\n  }, 500);\n\n  function animate() {\n    stats.begin();\n\n    mapVelocityIndicator.text = `Velocity: { x: ${velx}, y: ${vely} }`;\n\n    if (dragging) {\n      count2 += 1;\n      dragIndicator.text = `dragging for ${count2} animation frames`;\n    } else {\n      count2 = 0;\n    }\n\n    if (velx > 0) {\n      myContainer.position.x += velx;\n      velx -= 1;\n    }\n\n    if (velx < 0) {\n      myContainer.position.x += velx;\n      velx += 1;\n    }\n\n    if (vely > 0) {\n      myContainer.position.y += vely;\n      vely -= 1;\n    }\n\n    if (vely < 0) {\n      myContainer.position.y += vely;\n      vely += 1;\n    }\n\n    if (myContainer.position.x < config.borderL) {\n      myContainer.position.x = config.borderL;\n    }\n    if (myContainer.position.x > config.borderR) {\n      myContainer.position.x = config.borderR;\n    }\n    if (myContainer.position.y < config.borderD) {\n      myContainer.position.y = config.borderD;\n    }\n    if (myContainer.position.y > config.borderU) {\n      myContainer.position.y = config.borderU;\n    }\n\n    renderer.render(stage);\n    stats.end();\n    requestAnimationFrame(animate);\n  }\n\n  const resize = (newWidth: number, newHeight: number) => {\n    renderer.resize(newWidth, newHeight);\n    stage.removeChild(\n      ...zoomButtons,\n      // bottom left indicators\n      draggedIndicator,\n      dragIndicator,\n      orientationIndicator,\n\n      // bottom right indicators\n      upArrowIndicator,\n      downArrowIndicator,\n      leftArrowIndicator,\n      rightArrowIndicator,\n    );\n\n    buildIndicators(newHeight, newWidth);\n    buildZoomButtons(newHeight, newWidth);\n  };\n\n  return { resize };\n};\n","\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as PIXI from 'pixi.js';\nimport { isoMetricGame } from '../game/isometric';\nimport { assetLoader } from '../game/asset-loader';\n\nexport default Vue.extend({\n  name: 'isometric',\n\n  async mounted() {\n    PIXI.Loader.shared.reset();\n\n    const loadedAssets = await assetLoader();\n\n    // Determine the width and height of the renderer wrapper element.\n    const view = this.$refs.renderCanvas as HTMLCanvasElement;\n    const width = view.offsetWidth;\n    const height = view.offsetHeight;\n\n    const game = isoMetricGame(\n      new PIXI.Application({\n        width,\n        height,\n        view,\n        backgroundColor: 0x36454f,\n      }),\n      loadedAssets,\n    );\n\n    window.onresize = () => {\n      game.resize(view.offsetWidth, view.offsetHeight);\n    };\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Isometric.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Isometric.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Isometric.vue?vue&type=template&id=4e5c77b0&scoped=true&\"\nimport script from \"./Isometric.vue?vue&type=script&lang=ts&\"\nexport * from \"./Isometric.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Isometric.vue?vue&type=style&index=0&id=4e5c77b0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e5c77b0\",\n  null\n  \n)\n\nexport default component.exports","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function (createHTML) {\n  return function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  };\n});\n","module.exports = require(\"core-js/library/fn/object/define-property\");","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","module.exports = require(\"core-js/library/fn/array/is-array\");","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","module.exports = require(\"core-js/library/fn/is-iterable\");","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","require('../../modules/es6.array.is-array');\nmodule.exports = require('../../modules/_core').Array.isArray;\n"],"sourceRoot":""}